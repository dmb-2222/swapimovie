{"version":3,"sources":["pages/MovieDetailsPage/MovieDetailsPage.module.css","img/defaultStarWars.jpg","components/Movie/Movie.module.css","components/Loader/Loader.module.css","components/MoviesList/MoviesList.module.css","components/SearchBar/SearchBar.module.css","services/api.js","components/Movie/Movie.jsx","components/Loader/Loader.jsx","components/SearchBar/SearchBar.jsx","components/MoviesList/MoviesList.jsx","components/Ships/Ships.js","components/Planets/Planets.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","components/SwapApp/SwapApp.jsx","App.js","index.js"],"names":["module","exports","getMovies","query","axios","get","then","data","results","getShip","getPlanet","Movie","title","director","sliceUrl","url","slice","className","styles","movei","to","src","StarWarsImg","alt","App","loader","type","color","height","width","Component","SearchBar","handleInput","handeleSubmit","value","searchForm","onSubmit","autoComplete","placeholder","onChange","MoviesList","state","items","isLoader","e","preventDefault","setState","target","console","log","this","sortMovies","sort","a","b","length","listMovie","map","item","key","created","Ships","ships","props","location","urlShip","prevProps","prevState","name","model","manufacturer","Planet","planet","urlPlanet","rotation_period","orbital_period","climate","gravity","terrain","population","MovieDetailsPage","movieDetals","handleGoBack","history","push","from","linkToMovie","match","getMoviesById","onClick","movieDetailsPage","opening_crawl","choice","starships","ship","index","pathname","planets","path","component","SwapApp","exact","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.7200e732.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieDetailsPage\":\"MovieDetailsPage_movieDetailsPage__T-hfB\",\"choice\":\"MovieDetailsPage_choice__z90I6\"};","module.exports = __webpack_public_path__ + \"static/media/defaultStarWars.83796e7b.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movei\":\"Movie_movei__2nImw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3vYoJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listMovie\":\"MoviesList_listMovie__3yeZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchBar_searchForm__v8ojd\"};","import axios from \"axios\";\r\n\r\nexport const getMovies = (query = \"A\") => {\r\n  return axios\r\n    .get(`https://swapi.co/api/films/?search=${query}`)\r\n    .then(data => data.data.results);\r\n};\r\n\r\nexport const getMoviesById = (query = 0) => {\r\n  return axios.get(`${query}`).then(data => data.data);\r\n};\r\n\r\nexport const getShip = (query = 0) => {\r\n  return axios.get(`${query}`).then(data => data.data);\r\n};\r\nexport const getPlanet = (query = 0) => {\r\n  return axios.get(`${query}`).then(data => data.data);\r\n};\r\n","import React from \"react\";\r\nimport StarWarsImg from \"../../img/defaultStarWars.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./Movie.module.css\";\r\n\r\nconst Movie = ({ title, director, url }) => {\r\n  const sliceUrl = url.slice(20,28);\r\n  return (\r\n    <li className={styles.movei}>\r\n      <Link to={sliceUrl}>\r\n        <img src={StarWarsImg} alt=\"StarWars\" />\r\n        <p>{title}</p>\r\n        <p>{director}</p>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from './Loader.module.css'\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className={styles.loader}>\n        <Loader\n          type=\"BallTriangle\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport styles from './SearchBar.module.css'\r\nconst SearchBar = ({ handleInput, handeleSubmit, value }) => {\r\n  return (\r\n    <form className={styles.searchForm} onSubmit={handeleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        placeholder=\"Search movies...\"\r\n        onChange={handleInput}\r\n        value={value}\r\n      />\r\n    </form>\r\n  );\r\n};\r\nexport default SearchBar;\r\n\r\n// SearchBar.propTypes = {\r\n//   value: propTypes.string,\r\n//   onInputChange: propTypes.func\r\n// };\r\n","import React, { Component } from \"react\";\r\nimport { getMovies } from \"../../services/api\";\r\nimport Movie from \"../Movie/Movie\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport styles from \"./MoviesList.module.css\";\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\n\r\nclass MoviesList extends Component {\r\n  state = { items: [], isLoader: true };\r\n\r\n  componentDidMount() {\r\n    getMovies().then(data => this.setState({ items: data, isLoader: false }));\r\n  }\r\n  handleInput = e => {\r\n    e.preventDefault();\r\n    this.setState({ isLoader: true });\r\n    getMovies(e.target.value).then(data =>\r\n      this.setState({ items: data, isLoader: false })\r\n    );\r\n    console.log(e.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { items, isLoader } = this.state;\r\n    const sortMovies = items.sort(function(a, b) {\r\n      if (a.title > b.title) {\r\n        return 1;\r\n      }\r\n      if (a.title < b.title) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    });\r\n    return (\r\n      <>\r\n        <SearchBar handleInput={this.handleInput} />\r\n        {items.length === 0 ? (\r\n          <h2>No match</h2>\r\n        ) : (\r\n          <ul className={styles.listMovie}>\r\n            {sortMovies.map(item => (\r\n              <Movie\r\n                {...item}\r\n                key={item.created}\r\n                handleInput={this.handleInput}\r\n              />\r\n            ))}\r\n          </ul>\r\n        )}\r\n        {isLoader && <Loader />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesList;\r\n","import React, { Component } from \"react\";\r\nimport { getShip } from \"../../services/api\";\r\nclass Ships extends Component {\r\n  state = { ships: {} };\r\n  componentDidMount() {\r\n    getShip(this.props.location.urlShip).then(data =>\r\n      this.setState({ ships: data })\r\n    );\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\r\n      \"prevState\",\r\n      prevState.ships.name,\r\n      \"=== this.state\",\r\n      this.state.ships.name\r\n    );\r\n    console.log(\"this.props.location.state\", this.props.location.state);\r\n\r\n    if (prevState.ships.name === this.state.ships.name) {\r\n      getShip(this.props.location.urlShip).then(data =>\r\n        this.setState({ ships: data })\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    const { ships } = this.state;\r\n    console.log(ships);\r\n    return (\r\n      <>\r\n        <h3>About ship</h3>\r\n        <h4>{ships.name}</h4>\r\n        <p>model:{ships.model}</p>\r\n        <p>manufacturer:{ships.manufacturer}</p>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Ships;\r\n","import React, { Component } from \"react\";\r\nimport { getPlanet } from \"../../services/api\";\r\nclass Planet extends Component {\r\n  state = { planet: {} };\r\n  componentDidMount() {\r\n    getPlanet(this.props.location.urlPlanet).then(data =>\r\n      this.setState({ planet: data })\r\n    );\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.planet.name === this.state.planet.name) {\r\n      getPlanet(this.props.location.urlPlanet).then(data =>\r\n        this.setState({ planet: data })\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    const { planet } = this.state;\r\n    console.log(planet);\r\n    return (\r\n      <>\r\n        <h3>About planet</h3>\r\n        <h4>name:{planet.name}</h4>\r\n        <p>rotation_period:{planet.rotation_period}</p>\r\n        <p>orbital_period:{planet.orbital_period}</p>\r\n        <p>climate:{planet.climate}</p>\r\n        <p>planet.gravity:{planet.gravity}</p>\r\n        <p>planet.terrain:{planet.terrain}</p>\r\n        <p>population:{planet.population}</p>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Planet;\r\n","import React, { Component } from \"react\";\r\nimport { getMoviesById } from \"../../services/api\";\r\nimport { Link, Route } from \"react-router-dom\";\r\nimport Ships from \"../../components/Ships/Ships\";\r\nimport Planet from \"../../components/Planets/Planets\";\r\nimport styles from \"./MovieDetailsPage.module.css\";\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    movieDetals: {}\r\n  };\r\n  componentDidMount() {\r\n    const linkToMovie = this.props.match.url;\r\n    const url = `https://swapi.co/api${linkToMovie}`;\r\n    getMoviesById(url).then(data => this.setState({ movieDetals: data }));\r\n  }\r\n  handleGoBack = () => {\r\n    const { location, history } = this.props;\r\n    if (location.state) {\r\n      history.push(location.state.from);\r\n    } else history.push(\"/\");\r\n  };\r\n\r\n  render() {\r\n    const { movieDetals } = this.state;\r\n    const { state } = this.props.location;\r\n    // const ships = !movieDetals.starships\r\n    //   ? \"no ships\"\r\n    //   : movieDetals.starships.map(ship => ship);\r\n    return (\r\n      <>\r\n        <button type=\"button\" onClick={this.handleGoBack}>\r\n          Go back\r\n        </button>\r\n        <div className={styles.movieDetailsPage}>\r\n          <div>\r\n            <h1>{movieDetals.title}</h1>\r\n            <p>{movieDetals.opening_crawl}</p>\r\n            <div className={styles.choice}>\r\n              <div>\r\n                <h3>Choice ship</h3>\r\n                {movieDetals.starships &&\r\n                  movieDetals.starships.map((ship, index) => (\r\n                    <div key={ship}>\r\n                      <Link\r\n                        to={{\r\n                          pathname: `${this.props.match.url}/ships${index + 1}`,\r\n                          urlShip: ship,\r\n                          state\r\n                        }}\r\n                      >\r\n                        starship {index + 1}\r\n                      </Link>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n              <div>\r\n                <h3>Choice planet</h3>\r\n                {movieDetals.planets &&\r\n                  movieDetals.planets.map((planet, index) => (\r\n                    <div key={planet}>\r\n                      <Link\r\n                        to={{\r\n                          pathname: `${this.props.match.url}/planets${index +\r\n                            1}`,\r\n                          urlPlanet: planet,\r\n                          state\r\n                        }}\r\n                      >\r\n                        planet {index + 1}\r\n                      </Link>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Route path={`${this.props.match.url}/ships:id`} component={Ships} />\r\n        <Route path={`${this.props.match.url}/planets:id`} component={Planet} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport MoviesList from \"../MoviesList/MoviesList\";\r\nimport MovieDetailsPage from \"../../pages/MovieDetailsPage/MovieDetailsPage\";\r\n\r\nconst SwapApp = () => (\r\n  <Switch>\r\n    <Route path=\"/\" exact component={MoviesList} />\r\n    <Route path=\"/films/:id\" component={MovieDetailsPage} />\r\n  </Switch>\r\n);\r\n\r\nexport default SwapApp;\r\n","import React from \"react\";\nimport \"./commons/css/style.scss\";\nimport SwapApp from \"./components/SwapApp/SwapApp\";\n\nconst App = () => <SwapApp />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router} from \"react-router-dom\";\nimport App from './App';\n\nReactDOM.render(\n    <Router basename='/'>\n      <App />\n    </Router>,\n    document.getElementById(\"root\")\n  );\n"],"sourceRoot":""}