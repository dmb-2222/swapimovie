{"version":3,"sources":["PhotoGalery/Modal/Modal.module.css","PhotoGalery/SearchForm/SearchForm.module.css","PhotoGalery/Loader/Loader.module.css","PhotoGalery/PhotoCard/PhotoCard.module.css","PhotoGalery/PhotoCard/PhotoCard.jsx","PhotoGalery/Gallery/Gallery.jsx","PhotoGalery/SearchForm/SearchForm.jsx","PhotoGalery/Modal/Modal.jsx","PhotoGalery/services/ApiGallery.jsx","PhotoGalery/Loader/Loader.jsx","PhotoGalery/AppPhoto/AppPhoto.jsx","App.jsx","index.js","PhotoGalery/Gallery/Gallery.module.css"],"names":["module","exports","PhotoCard","webformatURL","tags","likes","comments","views","downloads","ckickToOpenModal","className","styles","photoCard","src","alt","stats","statsItem","type","fullscreenButton","onClick","Gallery","hits","showButtonloadMore","handleBtnLoadMore","gallery","map","hit","key","id","largeImageURL","button","SearchForm","handleInput","handeleSubmit","value","searchForm","onSubmit","autoComplete","placeholder","onChange","Modal","onCloseModal","myRef","React","createRef","overlay","data-modal","name","ref","modal","console","log","current","attributes","nodeValue","getPhoto","query","page","axios","get","then","data","App","loader","color","height","width","Component","AppPhoto","state","isModalOpen","btnLoadmore","inputValue","spiner","nextPage","setState","prevState","scrol","document","body","scrollHeight","window","innerHeight","scrollTo","top","behavior","e","code","target","dataset","preventDefault","addEventListener","this","removeEventListener","length","ReactDOM","render","getElementById"],"mappings":"4IACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,QAAU,yB,mBCAzDD,EAAOC,QAAU,CAAC,WAAa,iC,mBCA/BD,EAAOC,QAAU,CAAC,OAAS,yB,sDCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,MAAQ,yBAAyB,UAAY,6BAA6B,iBAAmB,oCAAoC,YAAc,iC,4JC2C3LC,EAxCG,SAAC,GAQZ,IAPLC,EAOI,EAPJA,aACAC,EAMI,EANJA,KACAC,EAKI,EALJA,MACAC,EAII,EAJJA,SACAC,EAGI,EAHJA,MACAC,EAEI,EAFJA,UACAC,EACI,EADJA,iBAEA,OACE,wBAAIC,UAAWC,IAAOC,WACpB,yBAAKC,IAAKV,EAAcW,IAAKV,IAC7B,yBAAKM,UAAWC,IAAOI,OACrB,uBAAGL,UAAWC,IAAOK,WACnB,uBAAGN,UAAU,kBAAb,YACCL,GAEH,uBAAGK,UAAWC,IAAOK,WACnB,uBAAGN,UAAU,kBAAb,cACCH,GAEH,uBAAGG,UAAWC,IAAOK,WACnB,uBAAGN,UAAU,kBAAb,WACCJ,GAEH,uBAAGI,UAAWC,IAAOK,WACnB,uBAAGN,UAAU,kBAAb,kBACCF,IAGL,4BACES,KAAK,SACLP,UAAWC,IAAOO,iBAClBC,QAASV,GAET,uBAAGC,UAAU,kBAAb,mB,gBCTOU,EAzBC,SAAC,GAKV,IAJLC,EAII,EAJJA,KACAZ,EAGI,EAHJA,iBACAa,EAEI,EAFJA,mBACAC,EACI,EADJA,kBAEA,OACE,oCACE,wBAAIb,UAAWC,IAAOa,SACnBH,EAAKI,KAAI,SAAAC,GAAG,OACX,kBAAC,EAAD,eACEC,IAAKD,EAAIE,IACLF,EAFN,CAGEjB,iBAAkB,kBAAMA,EAAiBiB,EAAIG,uBAIlDP,GACC,4BAAQZ,UAAWC,IAAOmB,OAAQb,KAAK,SAASE,QAASI,GAAzD,e,iBCROQ,EAbI,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,cAAeC,EAAY,EAAZA,MAChD,OACE,0BAAMxB,UAAWC,IAAOwB,WAAYC,SAAUH,GAC5C,2BACEhB,KAAK,OACLoB,aAAa,MACbC,YAAY,mBACZC,SAAUP,EACVE,MAAOA,M,iBCkBAM,EAxBD,SAAC,GAA2C,IAAzCX,EAAwC,EAAxCA,cAAezB,EAAyB,EAAzBA,KAAMqC,EAAmB,EAAnBA,aAC9BC,EAAQC,IAAMC,YASpB,OACE,yBACElC,UAAWC,IAAOkC,QAClB1B,QAASsB,EACTK,aAAW,QACXC,KAAK,QACLC,IAAKN,GAEL,yBAAKhC,UAAWC,IAAOsC,MAAO9B,QAfhB,WAEhB+B,QAAQC,IAAIT,EAAMU,QAAQC,WAAWN,KAAKO,WAC1CJ,QAAQC,IAAIT,KAaR,yBAAK7B,IAAKgB,EAAef,IAAKV,O,iBCrBzBmD,EAAW,SAACC,GAAqB,IAAdC,EAAa,uDAAN,EAC/B9B,EAAM,qCACZ,OAAO+B,IACJC,IADI,uCAE6BhC,EAF7B,cAEsC6B,EAFtC,yDAE4FC,EAF5F,iBAIJG,MAAK,SAAAC,GAAI,OAAIA,EAAKA,KAAKxC,S,kCCJPyC,E,iLAEjB,OACE,yBAAKpD,UAAWC,IAAOoD,QACrB,kBAAC,IAAD,CACE9C,KAAK,eACL+C,MAAM,UACNC,OAAQ,IACRC,MAAO,W,GARgBC,aCoHlBC,E,2MAhHbC,MAAQ,CACNhD,KAAM,GACNiD,aAAa,EACbzC,cAAe,GACf0C,aAAa,EACbC,WAAY,KACZtC,MAAO,GACPuC,QAAQ,G,EAEVC,SAAW,E,EAIXnD,kBAAoB,WAClB,EAAKoD,SAAS,CACZF,QAAQ,IAEV,IAAMjB,EAAQ,EAAKa,MAAMG,WACzB,EAAKE,WACLnB,EAASC,EAAO,EAAKkB,UAClBd,MAAK,SAAAC,GACJ,EAAKc,UAAS,SAAAC,GACZ,MAAO,CACLvD,KAAK,GAAD,mBAAMuD,EAAUvD,MAAhB,YAAyBwC,IAC7BY,QAAQ,SAIbb,MAAK,WACJ,IAAMiB,EAAQC,SAASC,KAAKC,aAAeC,OAAOC,YAAc,IAEhED,OAAOE,SAAS,CACdC,IAAKP,EACLQ,SAAU,e,EAKlB5E,iBAAmB,SAAAoB,GACjB,EAAK8C,SAAS,CACZL,aAAa,EACbzC,cAAeA,K,EAMnBY,aAAe,SAAA6C,GACE,WAAXA,EAAEC,MAAgD,UAA3BD,EAAEE,OAAOC,QAAQxC,OAC1C,EAAK0B,SAAS,CACZL,aAAa,K,EAKnBtC,YAAc,SAAAsD,GACZ,EAAKX,SAAS,CACZH,WAAYc,EAAEE,OAAOtD,MACrBA,MAAOoD,EAAEE,OAAOtD,S,EAGpBD,cAAgB,SAAAqD,GACdA,EAAEI,iBACF,IAAMlC,EAAQ,EAAKa,MAAMG,WACzB,EAAKG,SAAS,CACZF,QAAQ,IAEVlB,EAASC,GAAOI,MAAK,SAAAC,GAAI,OACvB,EAAKc,SAAS,CACZtD,KAAMwC,EACNU,aAAa,EACbrC,MAAO,GACPuC,QAAQ,Q,mFA7DZQ,OAAOU,iBAAiB,UAAWC,KAAKnD,gB,6CAkCxCwC,OAAOY,oBAAoB,UAAWD,KAAKnD,gB,+BAgCnC,IAAD,EAQHmD,KAAKvB,MANPhD,EAFK,EAELA,KACAiD,EAHK,EAGLA,YACAzC,EAJK,EAILA,cACA0C,EALK,EAKLA,YACArC,EANK,EAMLA,MACAuC,EAPK,EAOLA,OAEF,OACE,oCACE,kBAAC,EAAD,CACEzC,YAAa4D,KAAK5D,YAClBC,cAAe2D,KAAK3D,cACpBC,MAAOA,IAERuC,GAAU,kBAAC,EAAD,MACVpD,EAAKyE,OAAS,GACb,kBAAC,EAAD,CACEzE,KAAMA,EACNZ,iBAAkBmF,KAAKnF,iBACvBa,mBAAoBiD,EACpBhD,kBAAmBqE,KAAKrE,oBAG3B+C,GACC,kBAAC,EAAD,CACEzC,cAAeA,EACfY,aAAcmD,KAAKnD,oB,GA1GRE,IAAMwB,WCDdL,G,MAFH,kBAAM,kBAAC,EAAD,QCAlBiC,IAASC,OAAO,kBAAC,EAAD,MAASlB,SAASmB,eAAe,U,kBCHjDjG,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,2B","file":"static/js/main.629fc396.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__1S172\",\"overlay\":\"Modal_overlay__zAYlq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__-Cljt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3a7As\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__1XB8W\",\"stats\":\"PhotoCard_stats__1WRKS\",\"statsItem\":\"PhotoCard_statsItem__2gbZt\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__1x5gd\",\"galleryItem\":\"PhotoCard_galleryItem__1HBJo\"};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./PhotoCard.module.css\";\n\nconst PhotoCard = ({\n  webformatURL,\n  tags,\n  likes,\n  comments,\n  views,\n  downloads,\n  ckickToOpenModal\n}) => {\n  return (\n    <li className={styles.photoCard}>\n      <img src={webformatURL} alt={tags} />\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <button\n        type=\"button\"\n        className={styles.fullscreenButton}\n        onClick={ckickToOpenModal}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </li>\n  );\n};\nexport default PhotoCard;\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  clickToOpenModal: PropTypes.func\n};\n","import React from \"react\";\nimport PhotoCard from \"../PhotoCard/PhotoCard\";\nimport PropTypes from \"prop-types\";\nimport styles from './Gallery.module.css'\n\nconst Gallery = ({\n  hits,\n  ckickToOpenModal,\n  showButtonloadMore,\n  handleBtnLoadMore\n}) => {\n  return (\n    <>\n      <ul className={styles.gallery}>\n        {hits.map(hit => (\n          <PhotoCard\n            key={hit.id}\n            {...hit}\n            ckickToOpenModal={() => ckickToOpenModal(hit.largeImageURL)}\n          />\n        ) )}\n      </ul>\n      {showButtonloadMore && (\n        <button className={styles.button} type=\"button\" onClick={handleBtnLoadMore}>\n          Load more\n        </button>\n      )}\n    </>\n  );\n};\nexport default Gallery;\n\nGallery.propTypes = {\n  hits: PropTypes.arrayOf(PropTypes.object).isRequired,\n  ckickToOpenModal: PropTypes.func.isRequired,\n  showButtonloadMore: PropTypes.bool,\n  handleBtnLoadMore: PropTypes.func\n};\n","import React from \"react\";\nimport styles from './SearchForm.module.css'\nconst SearchForm = ({ handleInput, handeleSubmit, value }) => {\n  return (\n    <form className={styles.searchForm} onSubmit={handeleSubmit}>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search images...\"\n        onChange={handleInput}\n        value={value}\n      />\n    </form>\n  );\n};\nexport default SearchForm;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\n\nconst Modal = ({ largeImageURL, tags, onCloseModal }) => {\n  const myRef = React.createRef();\n\n  const handleRef = () => {\n    // myRef.current\n    console.log(myRef.current.attributes.name.nodeValue);\n    console.log(myRef);\n    \n  };\n\n  return (\n    <div\n      className={styles.overlay}\n      onClick={onCloseModal}\n      data-modal=\"modal\"\n      name=\"modal\"\n      ref={myRef}\n    >\n      <div className={styles.modal} onClick={handleRef} >\n        <img src={largeImageURL} alt={tags} />\n      </div>\n    </div>\n  );\n};\nexport default Modal;\n\nModal.propTypes = {\n  onCloseModal: PropTypes.func,\n  largeImageUrl: PropTypes.string,\n  tags: PropTypes.string\n};\n","import axios from \"axios\";\n\nexport const getPhoto = (query, page = 1) => {\n  const key = \"12916559-bca9cacbc431a253364f58898\";\n  return axios\n    .get(\n      `https://pixabay.com/api/?key=${key}&q=${query}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\n    )\n    .then(data => data.data.hits);\n};\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from './Loader.module.css'\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className={styles.loader}>\n        <Loader\n          type=\"BallTriangle\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Gallery from \"../Gallery/Gallery\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport Modal from \"../Modal/Modal\";\nimport { getPhoto } from \"../services/ApiGallery\";\nimport Loader from \"../Loader/Loader\";\n\nclass AppPhoto extends React.Component {\n  state = {\n    hits: [],\n    isModalOpen: false,\n    largeImageURL: \"\",\n    btnLoadmore: false,\n    inputValue: null,\n    value: \"\",\n    spiner: false\n  };\n  nextPage = 1;\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onCloseModal);\n  }\n  handleBtnLoadMore = () => {\n    this.setState({\n      spiner: true\n    });\n    const query = this.state.inputValue;\n    this.nextPage++;\n    getPhoto(query, this.nextPage)\n      .then(data => {\n        this.setState(prevState => {\n          return {\n            hits: [...prevState.hits, ...data],\n            spiner: false\n          };\n        });\n      })\n      .then(() => {\n        const scrol = document.body.scrollHeight - window.innerHeight - 300;\n        // использовать рефы Доделать задание!!!!\n        window.scrollTo({\n          top: scrol,\n          behavior: \"smooth\"\n        });\n      });\n  };\n\n  ckickToOpenModal = largeImageURL => {\n    this.setState({\n      isModalOpen: true,\n      largeImageURL: largeImageURL\n    });\n  };\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onCloseModal);\n  }\n  onCloseModal = e => {\n    if (e.code === \"Escape\" || e.target.dataset.modal === \"modal\") {\n      this.setState({\n        isModalOpen: false\n      });\n    }\n  };\n\n  handleInput = e => {\n    this.setState({\n      inputValue: e.target.value,\n      value: e.target.value\n    });\n  };\n  handeleSubmit = e => {\n    e.preventDefault();\n    const query = this.state.inputValue;\n    this.setState({\n      spiner: true\n    });\n    getPhoto(query).then(data =>\n      this.setState({\n        hits: data,\n        btnLoadmore: true,\n        value: \"\",\n        spiner: false\n      })\n    );\n  };\n\n  render() {\n    const {\n      hits,\n      isModalOpen,\n      largeImageURL,\n      btnLoadmore,\n      value,\n      spiner\n    } = this.state;\n    return (\n      <>\n        <SearchForm\n          handleInput={this.handleInput}\n          handeleSubmit={this.handeleSubmit}\n          value={value}\n        />\n        {spiner && <Loader />}\n        {hits.length > 0 && (\n          <Gallery\n            hits={hits}\n            ckickToOpenModal={this.ckickToOpenModal}\n            showButtonloadMore={btnLoadmore}\n            handleBtnLoadMore={this.handleBtnLoadMore}\n          />\n        )}\n        {isModalOpen && (\n          <Modal\n            largeImageURL={largeImageURL}\n            onCloseModal={this.onCloseModal}\n          />\n        )}\n      </>\n    );\n  }\n}\nexport default AppPhoto;\n","import React from \"react\";\nimport AppPhoto from \"./PhotoGalery/AppPhoto/AppPhoto\";\nimport \"./commons/css/style.scss\";\n\nconst App = () => <AppPhoto />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2ev2W\",\"button\":\"Gallery_button__2K1lf\"};"],"sourceRoot":""}